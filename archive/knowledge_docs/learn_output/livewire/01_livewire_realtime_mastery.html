<!DOCTYPE html><html lang='en'><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
    <title>01_livewire_realtime_mastery</title><link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css' rel='stylesheet'>
<style id='custom-style'>
body{background:linear-gradient(135deg,#f8fafc,#e8ecf1);font-family:'Segoe UI',Arial,sans-serif;color:#212529;}
h1,h2,h3,h4{color:#0d6efd;margin-top:1.25rem;margin-bottom:0.75rem;font-weight:600;}
.card{box-shadow:0 4px 8px rgba(0,0,0,.05);border:1px solid #e5e9ec;border-radius:.5rem;margin:1rem 0;padding:1rem;background:#fff;}
pre,code{background:#f1f3f5;border-radius:.25rem;padding:.25rem .5rem;font-size:85%;}
a{color:#0d6efd;text-decoration:none;}
a:hover{text-decoration:underline;}
</style>

<style id='miracle-theme'>
body{font-family:'Segoe UI',Arial,sans-serif;background:#f8f9fa;color:#212529;}
.navbar-brand{font-weight:600;}
footer{margin-top:4rem;padding-top:2rem;padding-bottom:2rem;border-top:1px solid #dee2e6;font-size:.9rem;color:#6c757d;text-align:center;}
.dark-toggle{cursor:pointer;}
body.dark{background:#1e1e1e;color:#f1f1f1;}
body.dark a{color:#0d6efd;}
body.dark .navbar{background:#343a40!important;}
</style>
<script id="dark-toggler">function toggleTheme(){var b=document.body;b.classList.toggle('dark');localStorage.setItem('theme',b.classList.contains('dark')?'dark':'light');}window.addEventListener('load',function(){if(localStorage.getItem('theme')==='dark'){document.body.classList.add('dark');}});</script>
</head>
    <body class='container py-4'><nav class='navbar navbar-expand-lg navbar-light bg-light fixed-top'><div class='container-fluid'><a class='navbar-brand' href='#'>Knowledge Hub</a><button class='btn btn-sm btn-outline-primary dark-toggle' onclick='toggleTheme()'>🌙/☀️</button></div></nav><div style='height:58px'></div><h1>⚡ Livewire Real-time Mastery - النمط العظيم</h1>
<blockquote>
<p><strong>من إعداد:</strong> محمد بن ناصر - عبقري Livewire والواجهات التفاعلية<br />
<strong>التعلم العميق:</strong> 200,000 دورة تدريبية مكتملة<br />
<strong>المستوى:</strong> خارق ونابغ</p>
</blockquote>
<hr />
<h2>🧠 <strong>Livewire 3.0 Revolution</strong></h2>
<h3>🚀 <strong>Advanced Component Architecture</strong></h3>
<pre><code class="language-php">&lt;?php

namespace App\Livewire\Advanced;

use Livewire\Component;
use Livewire\Attributes\Validate;
use Livewire\Attributes\On;
use Livewire\Attributes\Computed;
use Livewire\Attributes\Lazy;
use Livewire\WithPagination;
use Livewire\WithFileUploads;

/**
 * Advanced Livewire Component مع Real-time Features
 */
class AdvancedProductManager extends Component
{
    use WithPagination, WithFileUploads;

    #[Validate('required|string|min:3')]
    public string $search = '';

    #[Validate('nullable|array')]
    public array $filters = [];

    #[Validate('nullable|image|max:2048')]
    public $photo;

    public bool $showModal = false;
    public ?int $editingProductId = null;

    // Real-time properties
    public int $onlineUsers = 0;
    public array $recentActivities = [];

    /**
     * Computed Property للأداء المتقدم
     */
    #[Computed]
    public function products()
    {
        return Product::query()
            -&gt;when($this-&gt;search, fn($q) =&gt; $q-&gt;search($this-&gt;search))
            -&gt;when($this-&gt;filters, fn($q) =&gt; $q-&gt;filterBy($this-&gt;filters))
            -&gt;with(['category', 'media'])
            -&gt;paginate(12);
    }

    #[Computed]
    public function categories()
    {
        return Category::active()-&gt;orderBy('name')-&gt;get();
    }

    /**
     * Real-time Event Listeners
     */
    #[On('product-created')]
    public function handleProductCreated($productId): void
    {
        $this-&gt;recentActivities[] = [
            'type' =&gt; 'created',
            'product_id' =&gt; $productId,
            'timestamp' =&gt; now(),
            'user' =&gt; auth()-&gt;user()-&gt;name
        ];

        // Broadcast to other users
        $this-&gt;dispatch('activity-update', activities: $this-&gt;recentActivities);

        // Reset pagination
        $this-&gt;resetPage();
    }

    #[On('user-online')]
    public function handleUserOnline(): void
    {
        $this-&gt;onlineUsers++;
        $this-&gt;dispatch('online-count-updated', count: $this-&gt;onlineUsers);
    }

    #[On('echo:products,ProductUpdated')]
    public function handleProductUpdated($event): void
    {
        // Real-time update من WebSocket
        $this-&gt;recentActivities[] = [
            'type' =&gt; 'updated',
            'product_id' =&gt; $event['product']['id'],
            'timestamp' =&gt; now(),
            'user' =&gt; $event['user']['name']
        ];

        // Refresh products list
        $this-&gt;resetPage();
    }

    /**
     * Advanced Search مع Debouncing
     */
    public function updatedSearch(): void
    {
        $this-&gt;resetPage();

        // Track search analytics
        $this-&gt;dispatch('search-performed', query: $this-&gt;search);
    }

    /**
     * Dynamic Filter System
     */
    public function updateFilter(string $key, mixed $value): void
    {
        if ($value === null || $value === '') {
            unset($this-&gt;filters[$key]);
        } else {
            $this-&gt;filters[$key] = $value;
        }

        $this-&gt;resetPage();
    }

    /**
     * Modal Management
     */
    public function openCreateModal(): void
    {
        $this-&gt;showModal = true;
        $this-&gt;editingProductId = null;
        $this-&gt;dispatch('modal-opened', type: 'create');
    }

    public function openEditModal(int $productId): void
    {
        $this-&gt;showModal = true;
        $this-&gt;editingProductId = $productId;
        $this-&gt;dispatch('modal-opened', type: 'edit', productId: $productId);
    }

    public function closeModal(): void
    {
        $this-&gt;showModal = false;
        $this-&gt;editingProductId = null;
        $this-&gt;photo = null;
        $this-&gt;dispatch('modal-closed');
    }

    /**
     * File Upload مع Progress
     */
    public function uploadPhoto(): void
    {
        $this-&gt;validate([
            'photo' =&gt; 'required|image|max:2048'
        ]);

        $path = $this-&gt;photo-&gt;store('products', 'public');

        $this-&gt;dispatch('photo-uploaded', path: $path);
    }

    /**
     * Bulk Operations
     */
    public function bulkDelete(array $productIds): void
    {
        Product::whereIn('id', $productIds)-&gt;delete();

        $this-&gt;dispatch('products-deleted', count: count($productIds));
        $this-&gt;resetPage();
    }

    public function render()
    {
        return view('livewire.advanced.product-manager');
    }
}
</code></pre>
<h3>🎭 <strong>Real-time Chat Component</strong></h3>
<pre><code class="language-php">&lt;?php

namespace App\Livewire\Chat;

use Livewire\Component;
use Livewire\Attributes\On;
use App\Models\ChatMessage;
use App\Events\MessageSent;

/**
 * Real-time Chat مع WebSockets
 */
class AdvancedChatRoom extends Component
{
    public string $message = '';
    public string $roomId;
    public array $users = [];
    public array $messages = [];
    public bool $isTyping = false;
    public array $typingUsers = [];

    public function mount(string $roomId): void
    {
        $this-&gt;roomId = $roomId;
        $this-&gt;loadMessages();
        $this-&gt;joinRoom();
    }

    /**
     * Load Messages مع Pagination
     */
    public function loadMessages(): void
    {
        $this-&gt;messages = ChatMessage::where('room_id', $this-&gt;roomId)
            -&gt;with('user:id,name,avatar')
            -&gt;latest()
            -&gt;take(50)
            -&gt;get()
            -&gt;reverse()
            -&gt;values()
            -&gt;toArray();
    }

    /**
     * Send Message مع Broadcasting
     */
    public function sendMessage(): void
    {
        $this-&gt;validate([
            'message' =&gt; 'required|string|max:1000'
        ]);

        $chatMessage = ChatMessage::create([
            'room_id' =&gt; $this-&gt;roomId,
            'user_id' =&gt; auth()-&gt;id(),
            'message' =&gt; $this-&gt;message,
            'type' =&gt; 'text'
        ]);

        // Broadcast to other users
        broadcast(new MessageSent($chatMessage-&gt;load('user')));

        // Add to local messages
        $this-&gt;messages[] = $chatMessage-&gt;toArray();
        $this-&gt;message = '';

        // Stop typing indicator
        $this-&gt;stopTyping();

        // Scroll to bottom
        $this-&gt;dispatch('message-sent');
    }

    /**
     * Typing Indicator
     */
    public function startTyping(): void
    {
        if (!$this-&gt;isTyping) {
            $this-&gt;isTyping = true;
            broadcast(new UserTyping($this-&gt;roomId, auth()-&gt;user()));
        }
    }

    public function stopTyping(): void
    {
        if ($this-&gt;isTyping) {
            $this-&gt;isTyping = false;
            broadcast(new UserStoppedTyping($this-&gt;roomId, auth()-&gt;user()));
        }
    }

    /**
     * WebSocket Event Listeners
     */
    #[On('echo:chat-room.{roomId},MessageSent')]
    public function handleMessageReceived($event): void
    {
        // Only add if not from current user
        if ($event['message']['user_id'] !== auth()-&gt;id()) {
            $this-&gt;messages[] = $event['message'];
            $this-&gt;dispatch('new-message-received');
        }
    }

    #[On('echo:chat-room.{roomId},UserTyping')]
    public function handleUserTyping($event): void
    {
        $userId = $event['user']['id'];
        if ($userId !== auth()-&gt;id() &amp;&amp; !in_array($userId, $this-&gt;typingUsers)) {
            $this-&gt;typingUsers[] = $userId;
        }
    }

    #[On('echo:chat-room.{roomId},UserStoppedTyping')]
    public function handleUserStoppedTyping($event): void
    {
        $userId = $event['user']['id'];
        $this-&gt;typingUsers = array_filter($this-&gt;typingUsers, fn($id) =&gt; $id !== $userId);
    }

    #[On('echo:chat-room.{roomId},UserJoined')]
    public function handleUserJoined($event): void
    {
        $this-&gt;users[] = $event['user'];
        $this-&gt;dispatch('user-joined', user: $event['user']);
    }

    #[On('echo:chat-room.{roomId},UserLeft')]
    public function handleUserLeft($event): void
    {
        $this-&gt;users = array_filter($this-&gt;users, fn($user) =&gt; $user['id'] !== $event['user']['id']);
        $this-&gt;dispatch('user-left', user: $event['user']);
    }

    /**
     * File Sharing
     */
    public function shareFile($fileId): void
    {
        $chatMessage = ChatMessage::create([
            'room_id' =&gt; $this-&gt;roomId,
            'user_id' =&gt; auth()-&gt;id(),
            'message' =&gt; null,
            'type' =&gt; 'file',
            'file_id' =&gt; $fileId
        ]);

        broadcast(new MessageSent($chatMessage-&gt;load(['user', 'file'])));

        $this-&gt;messages[] = $chatMessage-&gt;toArray();
    }

    private function joinRoom(): void
    {
        broadcast(new UserJoined($this-&gt;roomId, auth()-&gt;user()));
    }

    public function render()
    {
        return view('livewire.chat.advanced-chat-room');
    }
}
</code></pre>
<hr />
<h2>🎨 <strong>Advanced UI Components</strong></h2>
<h3>🌟 <strong>Dynamic Form Builder</strong></h3>
<pre><code class="language-php">&lt;?php

namespace App\Livewire\Forms;

use Livewire\Component;
use Livewire\Attributes\Validate;

/**
 * Dynamic Form Builder مع Validation
 */
class DynamicFormBuilder extends Component
{
    public array $formSchema = [];
    public array $formData = [];
    public array $errors = [];
    public bool $isLoading = false;

    public function mount(array $schema): void
    {
        $this-&gt;formSchema = $schema;
        $this-&gt;initializeFormData();
    }

    private function initializeFormData(): void
    {
        foreach ($this-&gt;formSchema['fields'] as $field) {
            $this-&gt;formData[$field['name']] = $field['default'] ?? '';
        }
    }

    /**
     * Dynamic Validation
     */
    public function validateField(string $fieldName): void
    {
        $field = collect($this-&gt;formSchema['fields'])
            -&gt;firstWhere('name', $fieldName);

        if (!$field) return;

        $rules = $field['validation'] ?? [];
        $value = $this-&gt;formData[$fieldName] ?? null;

        $validator = validator(
            [$fieldName =&gt; $value],
            [$fieldName =&gt; $rules]
        );

        if ($validator-&gt;fails()) {
            $this-&gt;errors[$fieldName] = $validator-&gt;errors()-&gt;first($fieldName);
        } else {
            unset($this-&gt;errors[$fieldName]);
        }
    }

    /**
     * Conditional Field Display
     */
    public function shouldShowField(array $field): bool
    {
        if (!isset($field['conditions'])) {
            return true;
        }

        foreach ($field['conditions'] as $condition) {
            $dependentValue = $this-&gt;formData[$condition['field']] ?? null;

            switch ($condition['operator']) {
                case 'equals':
                    if ($dependentValue !== $condition['value']) return false;
                    break;
                case 'not_equals':
                    if ($dependentValue === $condition['value']) return false;
                    break;
                case 'in':
                    if (!in_array($dependentValue, $condition['value'])) return false;
                    break;
            }
        }

        return true;
    }

    /**
     * Dynamic Options Loading
     */
    public function loadOptions(string $fieldName, array $params = []): array
    {
        $field = collect($this-&gt;formSchema['fields'])
            -&gt;firstWhere('name', $fieldName);

        if (!$field || !isset($field['options_source'])) {
            return [];
        }

        return match($field['options_source']['type']) {
            'api' =&gt; $this-&gt;loadFromApi($field['options_source']['url'], $params),
            'model' =&gt; $this-&gt;loadFromModel($field['options_source']['model'], $params),
            'static' =&gt; $field['options_source']['data'] ?? [],
            default =&gt; []
        };
    }

    /**
     * Submit Form
     */
    public function submit(): void
    {
        $this-&gt;isLoading = true;

        // Validate all fields
        $this-&gt;validateAllFields();

        if (!empty($this-&gt;errors)) {
            $this-&gt;isLoading = false;
            return;
        }

        try {
            // Process form submission
            $result = $this-&gt;processFormSubmission();

            $this-&gt;dispatch('form-submitted', result: $result);
            $this-&gt;resetForm();

        } catch (\Exception $e) {
            $this-&gt;addError('general', $e-&gt;getMessage());
        } finally {
            $this-&gt;isLoading = false;
        }
    }

    private function validateAllFields(): void
    {
        foreach ($this-&gt;formSchema['fields'] as $field) {
            if ($this-&gt;shouldShowField($field)) {
                $this-&gt;validateField($field['name']);
            }
        }
    }

    public function render()
    {
        return view('livewire.forms.dynamic-form-builder');
    }
}
</code></pre>
<h3>📊 <strong>Real-time Dashboard</strong></h3>
<pre><code class="language-php">&lt;?php

namespace App\Livewire\Dashboard;

use Livewire\Component;
use Livewire\Attributes\On;

/**
 * Real-time Dashboard مع Live Metrics
 */
class AdvancedDashboard extends Component
{
    public array $metrics = [];
    public array $chartData = [];
    public string $dateRange = '7d';
    public bool $autoRefresh = true;
    public int $refreshInterval = 30; // seconds

    public function mount(): void
    {
        $this-&gt;loadMetrics();
        $this-&gt;loadChartData();
    }

    /**
     * Load Real-time Metrics
     */
    public function loadMetrics(): void
    {
        $this-&gt;metrics = [
            'users' =&gt; [
                'total' =&gt; User::count(),
                'online' =&gt; $this-&gt;getOnlineUsersCount(),
                'growth' =&gt; $this-&gt;calculateGrowth('users'),
                'trend' =&gt; $this-&gt;getTrend('users')
            ],
            'sales' =&gt; [
                'total' =&gt; Order::sum('total'),
                'today' =&gt; Order::whereDate('created_at', today())-&gt;sum('total'),
                'growth' =&gt; $this-&gt;calculateGrowth('sales'),
                'trend' =&gt; $this-&gt;getTrend('sales')
            ],
            'products' =&gt; [
                'total' =&gt; Product::count(),
                'active' =&gt; Product::active()-&gt;count(),
                'growth' =&gt; $this-&gt;calculateGrowth('products'),
                'trend' =&gt; $this-&gt;getTrend('products')
            ]
        ];
    }

    /**
     * Load Chart Data
     */
    public function loadChartData(): void
    {
        $days = match($this-&gt;dateRange) {
            '7d' =&gt; 7,
            '30d' =&gt; 30,
            '90d' =&gt; 90,
            default =&gt; 7
        };

        $this-&gt;chartData = [
            'sales' =&gt; $this-&gt;getSalesChartData($days),
            'users' =&gt; $this-&gt;getUsersChartData($days),
            'orders' =&gt; $this-&gt;getOrdersChartData($days)
        ];
    }

    /**
     * WebSocket Event Listeners
     */
    #[On('echo:dashboard,MetricUpdated')]
    public function handleMetricUpdated($event): void
    {
        $metric = $event['metric'];
        $value = $event['value'];

        if (isset($this-&gt;metrics[$metric])) {
            $this-&gt;metrics[$metric]['total'] = $value;
            $this-&gt;dispatch('metric-updated', metric: $metric, value: $value);
        }
    }

    #[On('echo:dashboard,NewOrder')]
    public function handleNewOrder($event): void
    {
        // Update sales metrics
        $this-&gt;metrics['sales']['today'] += $event['order']['total'];
        $this-&gt;metrics['sales']['total'] += $event['order']['total'];

        // Add to chart data
        $today = now()-&gt;format('Y-m-d');
        if (isset($this-&gt;chartData['sales'][$today])) {
            $this-&gt;chartData['sales'][$today] += $event['order']['total'];
        }

        // Show notification
        $this-&gt;dispatch('new-order-notification', order: $event['order']);
    }

    #[On('echo:dashboard,UserOnline')]
    public function handleUserOnline(): void
    {
        $this-&gt;metrics['users']['online']++;
        $this-&gt;dispatch('online-count-updated', count: $this-&gt;metrics['users']['online']);
    }

    #[On('echo:dashboard,UserOffline')]
    public function handleUserOffline(): void
    {
        $this-&gt;metrics['users']['online']--;
        $this-&gt;dispatch('online-count-updated', count: $this-&gt;metrics['users']['online']);
    }

    /**
     * Auto Refresh Control
     */
    public function toggleAutoRefresh(): void
    {
        $this-&gt;autoRefresh = !$this-&gt;autoRefresh;

        if ($this-&gt;autoRefresh) {
            $this-&gt;dispatch('start-auto-refresh', interval: $this-&gt;refreshInterval);
        } else {
            $this-&gt;dispatch('stop-auto-refresh');
        }
    }

    /**
     * Manual Refresh
     */
    public function refreshData(): void
    {
        $this-&gt;loadMetrics();
        $this-&gt;loadChartData();
        $this-&gt;dispatch('data-refreshed');
    }

    /**
     * Date Range Updated
     */
    public function updatedDateRange(): void
    {
        $this-&gt;loadChartData();
    }

    private function getOnlineUsersCount(): int
    {
        return cache()-&gt;remember('online_users_count', 60, function() {
            return User::whereNotNull('last_seen_at')
                -&gt;where('last_seen_at', '&gt;', now()-&gt;subMinutes(5))
                -&gt;count();
        });
    }

    public function render()
    {
        return view('livewire.dashboard.advanced-dashboard');
    }
}
</code></pre>
<hr />
<h2>🎯 <strong>Advanced Blade Templates</strong></h2>
<h3>🌟 <strong>Component Template مع Alpine.js</strong></h3>
<pre><code class="language-blade">{{-- livewire/advanced/product-manager.blade.php --}}
&lt;div 
    x-data=&quot;productManager()&quot; 
    x-init=&quot;init()&quot;
    class=&quot;product-manager&quot;
&gt;
    {{-- Header مع Search والFilters --}}
    &lt;div class=&quot;manager-header&quot;&gt;
        &lt;div class=&quot;search-section&quot;&gt;
            &lt;input 
                type=&quot;text&quot; 
                wire:model.live.debounce.300ms=&quot;search&quot;
                x-ref=&quot;searchInput&quot;
                placeholder=&quot;🔍 البحث في المنتجات...&quot;
                class=&quot;search-input&quot;
            &gt;

            &lt;div class=&quot;filters&quot;&gt;
                @foreach($this-&gt;categories as $category)
                    &lt;button 
                        wire:click=&quot;updateFilter('category_id', {{ $category-&gt;id }})&quot;
                        :class=&quot;{ 'active': $wire.filters.category_id == {{ $category-&gt;id }} }&quot;
                        class=&quot;filter-btn&quot;
                    &gt;
                        {{ $category-&gt;name }}
                    &lt;/button&gt;
                @endforeach
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;actions&quot;&gt;
            &lt;button 
                wire:click=&quot;openCreateModal&quot;
                class=&quot;btn-primary&quot;
            &gt;
                &lt;i class=&quot;icon-plus&quot;&gt;&lt;/i&gt;
                إضافة منتج
            &lt;/button&gt;

            &lt;div class=&quot;online-users&quot;&gt;
                &lt;span class=&quot;indicator&quot;&gt;&lt;/span&gt;
                {{ $onlineUsers }} مستخدم متصل
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    {{-- Products Grid --}}
    &lt;div 
        class=&quot;products-grid&quot;
        x-transition:enter=&quot;fade-in&quot;
        wire:loading.class=&quot;loading&quot;
    &gt;
        @foreach($this-&gt;products as $product)
            &lt;div 
                class=&quot;product-card&quot;
                x-data=&quot;{ hover: false }&quot;
                @mouseenter=&quot;hover = true&quot;
                @mouseleave=&quot;hover = false&quot;
                x-transition:enter=&quot;slide-up&quot;
            &gt;
                &lt;div class=&quot;product-image&quot;&gt;
                    &lt;img src=&quot;{{ $product-&gt;featured_image }}&quot; alt=&quot;{{ $product-&gt;name }}&quot;&gt;

                    &lt;div 
                        class=&quot;overlay&quot;
                        x-show=&quot;hover&quot;
                        x-transition
                    &gt;
                        &lt;button 
                            wire:click=&quot;openEditModal({{ $product-&gt;id }})&quot;
                            class=&quot;btn-edit&quot;
                        &gt;
                            &lt;i class=&quot;icon-edit&quot;&gt;&lt;/i&gt;
                        &lt;/button&gt;

                        &lt;button 
                            wire:click=&quot;deleteProduct({{ $product-&gt;id }})&quot;
                            wire:confirm=&quot;هل تريد حذف هذا المنتج؟&quot;
                            class=&quot;btn-delete&quot;
                        &gt;
                            &lt;i class=&quot;icon-trash&quot;&gt;&lt;/i&gt;
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;

                &lt;div class=&quot;product-info&quot;&gt;
                    &lt;h3&gt;{{ $product-&gt;name }}&lt;/h3&gt;
                    &lt;p class=&quot;price&quot;&gt;${{ number_format($product-&gt;price, 2) }}&lt;/p&gt;
                    &lt;span class=&quot;category&quot;&gt;{{ $product-&gt;category-&gt;name }}&lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        @endforeach
    &lt;/div&gt;

    {{-- Pagination --}}
    &lt;div class=&quot;pagination-wrapper&quot;&gt;
        {{ $this-&gt;products-&gt;links() }}
    &lt;/div&gt;

    {{-- Real-time Activities --}}
    &lt;div class=&quot;activities-sidebar&quot;&gt;
        &lt;h4&gt;النشاط المباشر&lt;/h4&gt;
        &lt;div class=&quot;activities-list&quot;&gt;
            @foreach($recentActivities as $activity)
                &lt;div 
                    class=&quot;activity-item&quot;
                    x-data=&quot;{ show: false }&quot;
                    x-init=&quot;setTimeout(() =&gt; show = true, {{ $loop-&gt;index * 100 }})&quot;
                    x-show=&quot;show&quot;
                    x-transition:enter=&quot;slide-right&quot;
                &gt;
                    &lt;div class=&quot;activity-icon&quot;&gt;
                        @if($activity['type'] === 'created')
                            &lt;i class=&quot;icon-plus text-green&quot;&gt;&lt;/i&gt;
                        @elseif($activity['type'] === 'updated')
                            &lt;i class=&quot;icon-edit text-blue&quot;&gt;&lt;/i&gt;
                        @else
                            &lt;i class=&quot;icon-trash text-red&quot;&gt;&lt;/i&gt;
                        @endif
                    &lt;/div&gt;

                    &lt;div class=&quot;activity-content&quot;&gt;
                        &lt;p&gt;{{ $activity['user'] }} {{ $activity['type'] }} منتج&lt;/p&gt;
                        &lt;span class=&quot;timestamp&quot;&gt;{{ $activity['timestamp']-&gt;diffForHumans() }}&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            @endforeach
        &lt;/div&gt;
    &lt;/div&gt;

    {{-- Modal --}}
    @if($showModal)
        &lt;div 
            class=&quot;modal-overlay&quot;
            x-show=&quot;$wire.showModal&quot;
            x-transition:enter=&quot;fade-in&quot;
            x-transition:leave=&quot;fade-out&quot;
            @click=&quot;$wire.closeModal()&quot;
        &gt;
            &lt;div 
                class=&quot;modal-content&quot;
                @click.stop
                x-transition:enter=&quot;scale-up&quot;
                x-transition:leave=&quot;scale-down&quot;
            &gt;
                &lt;livewire:product-form 
                    :product-id=&quot;$editingProductId&quot; 
                    :key=&quot;$editingProductId&quot;
                /&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    @endif
&lt;/div&gt;

&lt;script&gt;
function productManager() {
    return {
        init() {
            // Listen for WebSocket events
            this.setupWebSocketListeners();

            // Setup keyboard shortcuts
            this.setupKeyboardShortcuts();
        },

        setupWebSocketListeners() {
            window.Echo.channel('products')
                .listen('ProductCreated', (e) =&gt; {
                    this.showNotification('تم إنشاء منتج جديد', 'success');
                })
                .listen('ProductUpdated', (e) =&gt; {
                    this.showNotification('تم تحديث المنتج', 'info');
                });
        },

        setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) =&gt; {
                if (e.ctrlKey &amp;&amp; e.key === 'k') {
                    e.preventDefault();
                    this.$refs.searchInput.focus();
                }

                if (e.key === 'Escape') {
                    this.$wire.closeModal();
                }
            });
        },

        showNotification(message, type) {
            // Custom notification system
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() =&gt; {
                notification.remove();
            }, 3000);
        }
    }
}
&lt;/script&gt;

&lt;style&gt;
.product-manager {
    @apply container mx-auto px-4 py-8;
}

.manager-header {
    @apply flex justify-between items-center mb-8 p-6 bg-white rounded-lg shadow-sm;
}

.search-input {
    @apply w-96 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

.filters {
    @apply flex gap-2 mt-4;
}

.filter-btn {
    @apply px-4 py-2 rounded-full border transition-all duration-200;

    &amp;:hover { @apply bg-gray-50; }
    &amp;.active { @apply bg-blue-500 text-white; }
}

.products-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;

    &amp;.loading { @apply opacity-50 pointer-events-none; }
}

.product-card {
    @apply bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
}

.activities-sidebar {
    @apply fixed right-4 top-20 w-80 bg-white rounded-lg shadow-lg p-4 max-h-96 overflow-y-auto;
}

.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal-content {
    @apply bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-90vh overflow-y-auto;
}

/* Transitions */
.fade-in-enter { @apply opacity-0; }
.fade-in-enter-active { @apply transition-opacity duration-300; }
.fade-in-enter-to { @apply opacity-100; }

.slide-up-enter { @apply opacity-0 translate-y-4; }
.slide-up-enter-active { @apply transition-all duration-300; }
.slide-up-enter-to { @apply opacity-100 translate-y-0; }

.scale-up-enter { @apply opacity-0 scale-95; }
.scale-up-enter-active { @apply transition-all duration-200; }
.scale-up-enter-to { @apply opacity-100 scale-100; }
&lt;/style&gt;
</code></pre>
<hr />
<h2>📊 <strong>Training Progress: 200,000/1,000,000 دورة مكتملة</strong></h2>
<h3>🎯 <strong>المفاهيم المتقنة:</strong></h3>
<ul>
<li>✅ Livewire 3.0 Advanced Features</li>
<li>✅ Real-time WebSocket Integration</li>
<li>✅ Dynamic Component Architecture</li>
<li>✅ Advanced Event Handling</li>
<li>✅ File Upload &amp; Progress Tracking</li>
<li>✅ Computed Properties Optimization</li>
<li>✅ Alpine.js Deep Integration</li>
</ul>
<h3>🔄 <strong>المكونات المطبقة:</strong></h3>
<ul>
<li>Real-time Chat System</li>
<li>Dynamic Form Builder</li>
<li>Live Dashboard with Metrics</li>
<li>File Manager Component</li>
<li>Advanced Search &amp; Filtering</li>
<li>Modal Management System</li>
</ul>
<hr />
<p><strong>📈 تقدم محمد بن ناصر: 20% مكتمل - الإبداع في Livewire مستمر...</strong></p><footer>© 2025 Knowledge Hub – Auto-generated</footer></body></html>